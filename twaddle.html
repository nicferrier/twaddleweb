<html>
    <head>
        <title>twaddle - a trivial twitter client</title>
        <link rel="stylesheet" href="twaddle.css" type="text/css"/>
        <script src="jquery-1.4.2.min.js">
        </script>
        <script src="jquery.sprintf.js">
        </script>
        <script src="twaddle.js">
        </script>
    </head>
    <body>
        <div class="error">
        </div>
        <ul id="twaddlepanel">
            <li>
                <h1 
                    title="the ridiculously single page twitter client">
                    twaddle
                </h1>
            </li>
            <li>
                <a 
                    tabindex="1"
                    href="javascript:;" 
                    title="post something to twitter"
                    onclick="$('#updatepanel').removeClass('hidden');$('#textin').focus();">
                    post
                </a>
            </li>
            <li>
                <a
                    href="javascript:;"
                    title="force refresh the twitter feed"
                    onclick="twaddle.reload();">
                    reload
                </a>
            </li>
            <li>
                <a
                    href="javascript:;"
                    title="pop up your contacts"
                    onclick="twaddle.who();">
                    contacts
                </a>
            </li>
        </ul>
        <ul id="updatepanel" class="hidden">
            <li>
                <form id="update"
                      name="update" 
                      target="tweetsink"
                      method="post"
                      action="http://api.twitter.com/1/statuses/update.xml">
                    <input 
                        type="hidden" 
                        id="reply_id"
                        name="in_reply_to_status_id" value=""/>
                    <textarea 
                        id="textin" 
                        tabindex="2" 
                        rows="1" 
                        cols="70" 
                        name="status"></textarea>
                    <input
                        type="submit" 
                        tabindex="3"
                        name="tweet"
                        value="tweet!"/>
                    <input
                        name="cancel"
                        tabindex="4"
                        type="reset"
                        onclick="$('#updatepanel').addClass('hidden');"
                        value="cancel"/>
                </form>
            </li>
            <li id="update_reply" class="hidden">
            </li>
        </ul>
        <div id="whopanel" class="hidden">
            <ul id="who">
            </ul>
            <button type="cancel"
                    tabindex="1"
                    onclick="$('#whopanel').addClass('hidden');">quit</button>
        </div>
        <div id="content">
            <ul id="tweets">
            </ul>
        </div>
        <!-- The template used to render each tweet. 
             @variable is replaced with the twitter thing. -->
        <ul id="tweettemplate">
            <li class="tweet" id="@id">
                <div class="date">@created_at</div>
                <a class="user" 
                   target="_blank" 
                   title="@screen_name: @name" 
                   href="@user_url">
                    <img class="tweet_user_photo"
                         src="@user_img"
                         title="@screen_name: @name"/>
                </a>
                <span class='text'>@text</span>
                <a href="javascript:;"
                   class="reply"
                   title="reply to this post"
                   onclick="$('#updatepanel').removeClass('hidden');
$('#reply_id').attr('value','@id');
$('#textin').text('@@screen_name');
$('#textin').focus();">
                    [R]
                </a>
            </li>
            <li class="tweet reply @reply_class" id="@reply_id">
                <div class="date">@reply_created_at</div>
                <a class="user" 
                   target="_blank" 
                   title="@reply_screen_name: @reply_name" 
                   href="@reply_user_url">
                    <img class="tweet_user_photo"
                         src="@reply_user_img"
                         title="@reply_screen_name: @reply_name"/>
                </a>
                <span class='text'>@reply_html</span>
           </li>
        </ul>
        <!-- This template is used to render the contacts
        -->
        <ul id="whotemplate">
            <li id="@screen_name">
                <img src="@user_img" alt="@description" title="@name @tweet_count"/>
            </li>
        </ul>
        <iframe name="tweetsink" id="tweetpostsink">
        </iframe>
    </body>
</html>
